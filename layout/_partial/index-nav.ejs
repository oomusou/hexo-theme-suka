<script>
  let titleFontSize;
  let bodyFontSize;
  let contentFontSize;

  let setFontSize = ({ selector, fontSize }) => document.querySelectorAll(selector).forEach(
    x => x.style['font-size'] = fontSize
  );

  let getFontSize = ({ selector }) => {
    let element = document.querySelector(selector);

    if (element !== null) {
      let oriFontSize = window.getComputedStyle(element).fontSize;
      let incFontSize = parseInt(oriFontSize) * 1.2 + 'px';

      return [
        oriFontSize,
        incFontSize
      ];
    }

    return [0, 0];
  };

  let toggleFontSize = ({ selector, fontSizes }) => {
    let element = document.querySelector(selector);
    if (element !== null) {
      let fontSize = window.getComputedStyle(element).fontSize;

      if (fontSize === fontSizes[0]) {
        setFontSize({ selector, fontSize: fontSizes[1] });
      } else {
        setFontSize({ selector, fontSize: fontSizes[0] });
      }
    }
  };

  let increaseFontSize = () => {
    toggleFontSize({ selector: '.post-entry a.card-title', fontSizes: titleFontSize });
    toggleFontSize({ selector: '.post-entry .card-body', fontSizes: bodyFontSize });
    toggleFontSize({ selector: '#post-content', fontSizes: contentFontSize });
  };

  window.onload = function () {
    titleFontSize = getFontSize({selector: '.post-entry a.card-title'});
    bodyFontSize = getFontSize({selector: '.post-entry .card-body'});
    contentFontSize = getFontSize({selector: '#post-content'});
  };
</script>
<nav class="navbar-section text-center">
  <div class="columns">
    <div class="column col-1"></div>
    <div class="column col-10 col-sm-12 align-content-center">
      <a href="<%= url_for('/') %>" class="navbar-link">Home</a>
      <a href="<%= url_for('archives/') %>" class="navbar-link">Archives</a>
      <a href="<%= url_for('tags/') %>" class="navbar-link">Tags</a>
      <a href="<%= theme.nav.search.link %>" class="navbar-link">Search</a>
      <a href="<%= url_for(config.feed.path) %>" target="_blank" class="navbar-link">RSS</a>
    </div>
    <div class="column col-1 increase-font-size">
      <a class="hide-sm" style="cursor: pointer;" onclick="increaseFontSize()"><img
          src="/images/svg/font-size.svg"
          alt="font size" class="font-size"></a>
    </div>
  </div>
</nav>

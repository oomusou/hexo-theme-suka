<!-- ### Footer JS Import ### -->
<script>
  window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 50
  };

  /* Copyright */
  var copyrightNow = new Date().getFullYear();
  var copyrightContent = document.querySelector('span[data-year]')
  copyrightSince = <%= theme.footer.copyright_since %>;
  copyrightContent.textContent = copyrightSince + ' - ' + copyrightNow;
</script>
<!-- vanilla-lazyload -->
<% if (theme.vendors.lazyload) { %>
<script src="<%= theme.vendors.lazyload %>" async></script>
<% } else { %>
<script src="<%- url_for('lib/vanilla-lazyload/lazyload.min.js') %>" async></script>
<% } %>
<% if(theme.busuanzi.enable === true) { %>
<!-- Busuanzi -->
<%- partial('_plugin/busuanzi/import_js') %>
<% } %>
<% if (theme.hanabi.enable === true) { %>
<!-- Hanabi -->
<%- partial('_plugin/highlight/hanabi/import_js', {}, {cache: theme.fragment_cache}) %>
<% } %>
<% if (theme.prettify.enable === true) { %>
<!-- prettify -->
<%- partial('_plugin/highlight/prettify/import_js') %>
<% } %>
<!-- gallery.js -->
<% if (page.layout === 'gallery') { %>
<% if (theme.vendors.suka.gallery_js) { %>
<script src="<%= theme.vendors.suka.gallery_js %>"></script>
<% } else { %>
<script src="<%- url_for('js/gallery.min.js') %>"></script>
<% } %>
<% } %>
<!-- Comment -->
<% if (theme.comment.use) { %>
<% if ( (is_post()) ) { %>
<%- partial('_plugin/comment/' + theme.comment.use + '/common', {}, {cache: theme.fragment_cache}) %>
<% } %>
<% } %>
<!-- ### Custom Footer ### -->
<%- partial('_partial/source/custom_footer', {}, {cache: theme.fragment_cache}) %>